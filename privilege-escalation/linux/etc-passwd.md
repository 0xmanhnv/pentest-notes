# /etc/passwd

* /passwd: It is a human-readable text file which stores information of user account.
* /etc/group: It is also a human-readable text file which stores group information as well as user belongs to which group can be identified through this file.
* /etc/shadow: It is a file that contains encrypted password and information of the account expire for any user.

<figure><img src="../../.gitbook/assets/passwd.png" alt=""><figcaption></figcaption></figure>

Encrypted password: The X denotes encrypted password which is actually stored inside **/etc/shadow** file. If the user does not have a password, then the password field will have an \*(asterisk).

User Id (UID): Every user must be allotted a user ID (UID). UID 0 (zero) is kept for root user and UIDs 1-99 are kept for further predefined accounts, UID x.x.x.x

Group Id (GID): It denotes the group of each user; like as UIDs, the first x.x.x.x

\======================================================================

## Create Passwd

### Openssl

Sometimes it is not possible to execute passwd command to set the password of a user; in that case, we can use OpenSSL command which will generate an encrypted password with salt.

OpenSSL passwd will compute the hash of the given password using salt string and the MD5-based BSD password algorithm 1.

```bash
openssl passwd -1 -salt [salt value] {password}
```

**Example:**

```
openssl passwd -1 -salt user1 123456

$1$user1$EtLVP.4JPlgHl9f1oGR6E1
```

Add to **/etc/passwd**

```
user1:$1$user1$EtLVP.4JPlgHl9f1oGR6E1:0:0:/root:/bin/bash
```

Switch to user1

```
su user1
```

<figure><img src="../../.gitbook/assets/Screen Shot 2022-11-01 at 13.00.27.png" alt=""><figcaption></figcaption></figure>

### Python

```python
python -c 'import crypt; print crypt.crypt("pass", "$6$salt")'
```

### Perl

```
perl -le 'print crypt("pass123", "abc")'
```

### mkpasswd

```
mkpasswd -m [hash type] {password}
```

**Example**

```bash
mkpasswd -m SHA-512 pass

$6$zckEJDpf2H$oW8SNyKMtirh9ZKRxjmxxr.C2E.bN042bEaHNYx66b2gQ9H2tqJQGdw23vrd/F7BV7w//jgpZ.CoIOrOa876c.
```

### PHP

```bash
php -r "print(crypt('aarti','123') . \"\n\");"
```
